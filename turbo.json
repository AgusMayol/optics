{
	"$schema": "https://turbo.build/schema.json",
	"globalPassThroughEnv": [
		"FLAGS_SECRET",
		"GROWTHBOOK_CLIENT_KEY",
		"VERCEL_TARGET_ENV",
		"VERCEL",
		"VERCEL_ENV",
		"VERCEL_URL"
	],
	"envMode": "loose",
	"tasks": {
		"dev": {
			"cache": false,
			"persistent": true,
			"dependsOn": ["sync:sources", "extract-props"]
		},
		"build": {
			"dependsOn": [
				"^build",
				"sync:sources",
				"registry:build",
				"extract-props"
			],
			"inputs": [
				"app/**",
				"components/**",
				"hooks/**",
				"lib/**",
				"public/**",
				"registry/**",
				"!public/r/**",
				"*.{js,jsx,ts,tsx}",
				"next.config.ts",
				"tailwind.config.*",
				"tsconfig.json",
				"package.json",
				"registry.json"
			],
			"outputs": [".next/**", "registry/**/dist/**"]
		},
		"extract-props": {
			"dependsOn": ["sync:sources"],
			"inputs": [
				"scripts/extract-props.js",
				"registry/optics/**/*.{jsx,tsx,js,ts}",
				"tsconfig.json",
				"package.json"
			],
			"outputs": ["registry/optics/dist/**/*.json"]
		},
		"registry:build": {
			"dependsOn": ["sync:sources"],
			"inputs": ["registry.json"],
			"outputs": ["public/r/**"]
		},
		"lint": {
			"outputs": []
		},
		"format": {
			"cache": false
		},
		"sync:sources": {
			"inputs": [
				"registry/optics/**/*.jsx",
				"registry/optics/**/*.js",
				"scripts/sync-source-files.js"
			],
			"outputs": ["registry/optics/dist/**/*.txt"]
		}
	}
}
