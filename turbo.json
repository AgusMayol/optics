{
	"$schema": "https://turbo.build/schema.json",
	"globalPassThroughEnv": ["FLAGS_SECRET", "GROWTHBOOK_CLIENT_KEY"],
	"tasks": {
		"dev": {
			"cache": false,
			"persistent": true,
			"dependsOn": ["sync:sources"]
		},
		"build": {
			"dependsOn": ["^build", "sync:sources", "registry:build"],
			"outputs": [".next/**", "registry/**/dist/**"]
		},
		"registry:build": {
			"dependsOn": ["sync:sources"],
			"inputs": ["registry.json"],
			"outputs": ["public/r/**"]
		},
		"lint": {
			"outputs": []
		},
		"format": {
			"cache": false
		},
		"sync:sources": {
			"inputs": [
				"registry/optics/**/*.jsx",
				"registry/optics/**/*.js",
				"scripts/sync-source-files.js"
			],
			"outputs": ["registry/optics/**/*.txt"]
		}
	}
}
